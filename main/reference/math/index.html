
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A C++ units library, by Aurora">
      
      
        <meta name="author" content="Au team">
      
      
        <link rel="canonical" href="https://aurora-opensource.github.io/au/main/reference/math/">
      
      
        <link rel="prev" href="../magnitude/">
      
      
        <link rel="next" href="../powers/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>Math functions - The Au units library</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../tweaks.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#math-functions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The Au units library" class="md-header__button md-logo" aria-label="The Au units library" data-md-component="logo">
      
  <img src="../../assets/au-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Au units library
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Math functions
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aurora-opensource/au" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Au units library" class="md-nav__button md-logo" aria-label="The Au units library" data-md-component="logo">
      
  <img src="../../assets/au-logo.png" alt="logo">

    </a>
    The Au units library
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aurora-opensource/au" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au documentation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../develop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Setup
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../supported-compilers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Compilers
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Alternatives
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Alternatives
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../alternatives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comparison of Alternatives
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Discussion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Discussion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discussion Docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generic Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/arithmetic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arithmetic Operations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/common_unit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common Units
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/dimensionless/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dimensionless Units and Quantities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/overflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/quantity_point/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quantity Point
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/zero/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zero
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Idioms
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Idioms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/idioms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au Idioms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/idioms/unit-slots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unit slots
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Implementation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Implementation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/implementation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementation Details
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/implementation/applying_magnitudes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Applying Magnitudes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/implementation/vector_space/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vector Space Representations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Howto
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Howto
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How-to guides
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/new-dimensions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining new dimensions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/new-units/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Defining new units
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interop
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Interop
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/interop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inter-library Interoperation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/interop/nholthaus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nholthaus/units Interoperation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reference Docs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Constant
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../corresponding_quantity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Corresponding Quantity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../magnitude/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Magnitude
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Math functions
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Math functions
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-usage-advice" class="md-nav__link">
    <span class="md-ellipsis">
      General usage advice
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-categories" class="md-nav__link">
    <span class="md-ellipsis">
      Function categories
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Function categories">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sign-based-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Sign-based functions:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sign-based functions:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking-signs-comparing-to-0" class="md-nav__link">
    <span class="md-ellipsis">
      Checking signs, comparing to 0
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abs" class="md-nav__link">
    <span class="md-ellipsis">
      abs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copysign" class="md-nav__link">
    <span class="md-ellipsis">
      copysign
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison-based-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison-based functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comparison-based functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#min-max" class="md-nav__link">
    <span class="md-ellipsis">
      min, max
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clamp" class="md-nav__link">
    <span class="md-ellipsis">
      clamp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exponentiation" class="md-nav__link">
    <span class="md-ellipsis">
      Exponentiation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exponentiation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#int_pow" class="md-nav__link">
    <span class="md-ellipsis">
      int_pow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqrt" class="md-nav__link">
    <span class="md-ellipsis">
      sqrt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigonometric-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Trigonometric functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trigonometric functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sin-cos-tan" class="md-nav__link">
    <span class="md-ellipsis">
      sin, cos, tan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcsin-arccos-arctan" class="md-nav__link">
    <span class="md-ellipsis">
      arcsin, arccos, arctan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arctan2" class="md-nav__link">
    <span class="md-ellipsis">
      arctan2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rounding-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Rounding functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rounding functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#round_as-round_in" class="md-nav__link">
    <span class="md-ellipsis">
      round_as, round_in
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceil_in-ceil_as" class="md-nav__link">
    <span class="md-ellipsis">
      ceil_in, ceil_as
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floor_in-floor_as" class="md-nav__link">
    <span class="md-ellipsis">
      floor_in, floor_as
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inverse-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Inverse functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inverse functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inverse_as-inverse_in" class="md-nav__link">
    <span class="md-ellipsis">
      inverse_as, inverse_in
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-values-and-language-features" class="md-nav__link">
    <span class="md-ellipsis">
      Special values and language features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Special values and language features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#isnan" class="md-nav__link">
    <span class="md-ellipsis">
      isnan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stdnumeric_limits-specializations" class="md-nav__link">
    <span class="md-ellipsis">
      std::numeric_limits specializations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      Miscellaneous
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fmod" class="md-nav__link">
    <span class="md-ellipsis">
      fmod
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remainder" class="md-nav__link">
    <span class="md-ellipsis">
      remainder
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../powers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Powers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prefix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prefix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quantity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quantity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quantity_point/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QuantityPoint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unit
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zero/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zero
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_12" >
        
          
          <label class="md-nav__link" for="__nav_9_12" id="__nav_9_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Detail
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_12">
            <span class="md-nav__icon md-icon"></span>
            Detail
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../detail/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Implementation Details
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../detail/dimension/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dimension
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../detail/monovalue_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monovalue Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../detail/packs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameter packs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials: home
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/101-quantity-makers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au 101: Quantity Makers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/102-api-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au 102: API Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/103-unit-conversions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au 103: Unit Conversions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5" >
        
          
          <label class="md-nav__link" for="__nav_10_5" id="__nav_10_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exercise
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_5">
            <span class="md-nav__icon md-icon"></span>
            Exercise
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/exercise/101-quantity-makers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au 101: Quantity Makers Exercise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/exercise/102-api-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au 102: API Types Exercise
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/exercise/103-unit-conversions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Au 103: Unit Conversions Exercise
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="math-functions">Math functions<a class="headerlink" href="#math-functions" title="Permanent link">&para;</a></h1>
<p>We provide many common mathematical functions out of the box.  If you think we&rsquo;re missing
a particular math function, and you&rsquo;d like to see it added, <a href="https://github.com/aurora-opensource/au/issues">reach out to us and
ask</a>!</p>
<h2 id="general-usage-advice">General usage advice<a class="headerlink" href="#general-usage-advice" title="Permanent link">&para;</a></h2>
<p>Prefer to <em>make unqualified calls</em> to these functions.  So for example: if you&rsquo;re using unit types
and you want the &ldquo;max&rdquo;, just write plain <code>max(...)</code>.</p>
<ul>
<li>Don&rsquo;t write <code>std::max(...)</code>, because that would give the wrong function.</li>
<li>Don&rsquo;t write <code>au::max(...)</code>, because that&rsquo;s neither necessary nor idiomatic.</li>
</ul>
<h2 id="function-categories">Function categories<a class="headerlink" href="#function-categories" title="Permanent link">&para;</a></h2>
<p>Here are the functions we provide, grouped roughly into related categories.</p>
<h3 id="sign-based-functions">Sign-based functions:<a class="headerlink" href="#sign-based-functions" title="Permanent link">&para;</a></h3>
<h4 id="checking-signs-comparing-to-0">Checking signs, comparing to 0<a class="headerlink" href="#checking-signs-comparing-to-0" title="Permanent link">&para;</a></h4>
<p><code>Quantity</code> cannot be compared to <code>0</code> or <code>0.0</code>, since these are raw numeric types.  However, any
<code>Quantity</code> <em>can</em> be compared to <code>ZERO</code>, which is a built-in constant of the library.  See <a href="../../discussion/concepts/zero/">our
<code>Zero</code> discussion</a> for more background.</p>
<h4 id="abs"><code>abs</code><a class="headerlink" href="#abs" title="Permanent link">&para;</a></h4>
<p>Adapts <code>std::abs</code> to <code>Quantity</code> types.  Covers both
<a href="https://en.cppreference.com/w/cpp/numeric/math/abs">integral</a> and <a href="https://en.cppreference.com/w/cpp/numeric/math/fabs">floating
point</a> overloads of <code>std::abs</code>.</p>
<p><strong>Signature:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">abs</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> The input quantity, but with <code>std::abs</code> applied to its underlying value.</p>
<h4 id="copysign"><code>copysign</code><a class="headerlink" href="#copysign" title="Permanent link">&para;</a></h4>
<p>Adapts <a href="https://en.cppreference.com/w/cpp/numeric/math/copysign"><code>std::copysign</code></a> to
<code>Quantity</code> types.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// 1: First argument Quantity, second argument raw numeric</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">copysign</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mag</span><span class="p">,</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">sgn</span><span class="p">);</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1">// 2: First argument raw numeric, second argument Quantity</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">copysign</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">mag</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sgn</span><span class="p">);</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="c1">// 3: Both arguments Quantity</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">copysign</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">mag</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">sgn</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> The first argument, with the sign from the second argument applied to it.</p>
<h3 id="comparison-based-functions">Comparison-based functions<a class="headerlink" href="#comparison-based-functions" title="Permanent link">&para;</a></h3>
<h4 id="min-max"><code>min</code>, <code>max</code><a class="headerlink" href="#min-max" title="Permanent link">&para;</a></h4>
<p>Select the smaller (<code>min</code>) or larger (<code>max</code>) of the two inputs.  This operation is <em>unit-aware</em>, and
supports mixing different input units, as long as they have the same dimension.  These functions
support both <code>Quantity</code> and <code>QuantityPoint</code> inputs.</p>
<p><strong>Signatures:</strong><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">//</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1">// min()</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1">//</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="c1">// 1. `Quantity` inputs</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="k">auto</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q1</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q2</span><span class="p">);</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="c1">// 2. `QuantityPoint` inputs</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="k">auto</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p2</span><span class="p">);</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="c1">//</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="c1">// max()</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="c1">//</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="c1">// 1. `Quantity` inputs</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="k">auto</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q1</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q2</span><span class="p">);</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="c1">// 2. `QuantityPoint` inputs</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="k">auto</span><span class="w"> </span><span class="n">max</span><span class="p">(</span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">p2</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> The value of the smallest (<code>min</code>) or largest (<code>max</code>) of the inputs, expressed in their
<a href="../quantity/#common-type">common type</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>unlike <code>std::min</code> and <code>std::max</code>, we return by <strong>value</strong>, not by reference.  This is because we
support combining different units.  This means the return type will generally be different from
the types of the inputs.</p>
</div>
<h4 id="clamp"><code>clamp</code><a class="headerlink" href="#clamp" title="Permanent link">&para;</a></h4>
<p>&ldquo;Clamp&rdquo; the first parameter to the range defined by the second and third.  This is a <em>unit-aware</em>
analogue to <a href="https://en.cppreference.com/w/cpp/algorithm/clamp"><code>std::clamp</code></a>, which was introduced
in C++17.  However, this version differs in several respects from <code>std::clamp</code>, in order to handle
quantities more effectively.  We&rsquo;ll explain these differences at the end of the <code>clamp</code> section.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// 1. `Quantity` inputs</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">UV</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RV</span><span class="w"> </span><span class="p">,</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">          </span><span class="k">typename</span><span class="w"> </span><span class="nc">ULo</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RLo</span><span class="p">,</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">          </span><span class="k">typename</span><span class="w"> </span><span class="nc">UHi</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RHi</span><span class="o">&gt;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">clamp</span><span class="p">(</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">UV</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">RV</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">,</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">ULo</span><span class="p">,</span><span class="w"> </span><span class="n">RLo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lo</span><span class="p">,</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">UHi</span><span class="p">,</span><span class="w"> </span><span class="n">RHi</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hi</span><span class="p">);</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="c1">// 2. `QuantityPoint` inputs</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">UV</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RV</span><span class="w"> </span><span class="p">,</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">          </span><span class="k">typename</span><span class="w"> </span><span class="nc">ULo</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RLo</span><span class="p">,</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">          </span><span class="k">typename</span><span class="w"> </span><span class="nc">UHi</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RHi</span><span class="o">&gt;</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">clamp</span><span class="p">(</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">    </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">UV</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="n">RV</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">v</span><span class="p">,</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">    </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">ULo</span><span class="p">,</span><span class="w"> </span><span class="n">RLo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lo</span><span class="p">,</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">    </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">UHi</span><span class="p">,</span><span class="w"> </span><span class="n">RHi</span><span class="o">&gt;</span><span class="w"> </span><span class="n">hi</span><span class="p">);</span>
</code></pre></div>
<details class="note">
<summary>A note on custom comparators</summary>
<p><a href="https://en.cppreference.com/w/cpp/algorithm/clamp"><code>std::clamp</code></a> includes a four-parameter
version, where the fourth parameter is a custom comparator.  <code>std::clamp</code> provides this because
it must support an unknowably wide range of custom types.  However, <code>au::clamp</code> only supports
<code>Quantity</code> and <code>QuantityPoint</code> types, whose notions of comparison is unambiguous.  Therefore, we
opt to keep the library simple, and omit this four-parameter version.</p>
</details>
<p><strong>Returns:</strong> The closest quantity (or quantity point) to <code>v</code> which is between <code>lo</code> and <code>hi</code>,
inclusive &mdash; that is, greater than or equal to <code>lo</code>, and less than or equal to <code>hi</code>.  If <code>lo &gt; hi</code>,
the behaviour is undefined.  The return type will be expressed in the appropriate unit and rep;
expand the note below for further details.</p>
<details class="info">
<summary>Details on the unit and rep for the return type</summary>
<p>Comparison is a <a href="../../discussion/concepts/arithmetic/#common-unit">common-unit operation</a>.  We
must convert all inputs to their common unit before we compare, and therefore the output must
also be expressed in this same common unit.</p>
<p>The rep of the return type will be the common type of the input reps.  Specifically, given the
above signatures, it will be <code>std::common_type_t&lt;RV, RLo, RHi&gt;</code>.</p>
<p>The unit of the return type depends on whether we are working with <code>Quantity</code> inputs, or
<code>QuantityPoint</code>.</p>
<ul>
<li>For <code>Quantity</code>, the return type&rsquo;s unit is <code>CommonUnitT&lt;UV, ULo, UHi&gt;</code>.</li>
<li>For <code>QuantityPoint</code>, the return type&rsquo;s unit is <code>CommonPointUnitT&lt;UV, ULo, UHi&gt;</code>: this is the
  <a href="../../discussion/concepts/common_unit/#common-quantity-point">common point unit</a>, which takes
  relative origin offsets into account.</li>
</ul>
</details>
<details class="info">
<summary>Differences from <code>std::clamp</code></summary>
<p>Here are the main changes which stem from handling quantities instead of simple numbers.</p>
<ul>
<li>
<p>unlike <code>std::clamp</code>, we return by <strong>value</strong>, not by reference.  This is because we support
  combining different units.  This means the return type will generally be different from the
  types of the inputs.</p>
</li>
<li>
<p>The return type <strong>can be different from the type of <code>v</code></strong>, because we must express it in the
  common unit and rep of the input parameter types.</p>
</li>
<li>
<p>We do not currently plan to provide the four-parameter overload, unless we get a compelling
  use case.</p>
</li>
</ul>
</details>
<h3 id="exponentiation">Exponentiation<a class="headerlink" href="#exponentiation" title="Permanent link">&para;</a></h3>
<h4 id="int_pow"><code>int_pow</code><a class="headerlink" href="#int_pow" title="Permanent link">&para;</a></h4>
<p>Raise a <code>Quantity</code> to an integer power.  Since this is an <a href="../../discussion/concepts/arithmetic/#arbitrary-unit">arbitrary-unit
operation</a>, the power applies <em>independently</em>
to the unit and to the value.</p>
<p>If the input has an integral rep (storage type), then the exponent cannot be negative.</p>
<p><strong>Signature:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="kt">int</span><span class="w"> </span><span class="n">Exp</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">int_pow</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong>  A <code>Quantity</code> whose unit is the input unit raised to the given power, and whose value
is the input value raised to the given power.</p>
<h4 id="sqrt"><code>sqrt</code><a class="headerlink" href="#sqrt" title="Permanent link">&para;</a></h4>
<p>A unit-aware adaptation of <a href="https://en.cppreference.com/w/cpp/numeric/math/sqrt"><code>std::sqrt</code></a>.  Both
the input and output are <code>Quantity</code> types.  Since <code>sqrt</code> is an <a href="../../discussion/concepts/arithmetic/#arbitrary-unit">arbitrary-unit
operation</a>, the square root applies
<em>independently</em> to the unit and to the value.</p>
<p>We mirror <code>std::sqrt</code> in selecting our output rep.  That is to say: the output rep will be the
return type of <code>std::sqrt</code> when called with a value of our input rep.</p>
<p><strong>Signature:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">sqrt</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> A <code>Quantity</code> whose unit is the square root of the input quantity&rsquo;s unit, and whose
value is the square root of the input quantity&rsquo;s value.</p>
<details class="warning">
<summary>Warning: not all unit conversions are currently supported</summary>
<p>There is one edge case to be aware of with <code>sqrt</code>: we don&rsquo;t yet support any <strong>conversion</strong> which
picks up a radical factor.  This is because all conversion factors get computed at compile time,
and we don&rsquo;t have a way to compute rational powers at compile time.  To fix this, we would need
a <code>constexpr</code>-compatible implementation of <code>std::powl</code>.</p>
<p>Let&rsquo;s clarify what you can and can&rsquo;t do in today&rsquo;s library, with an example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// Taking the square root of &quot;weird&quot; units: this works.</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">geo_mean_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sqrt</span><span class="p">(</span><span class="n">inches</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">meters</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1">// Now let&#39;s look at retrieving the value in different units.</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1">// Using a Quantity-equivalent Unit just retrieves the stored value.</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1">// This _always_ works.  (In this case, it gives `1.0`.)</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">retrieved_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geo_mean_length</span><span class="p">.</span><span class="n">in</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">inch</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">meters</span><span class="p">));</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1">// This conversion is non-trivial, but it&#39;s also OK.</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="c1">// The reason is that the conversion factor doesn&#39;t have any rational powers.</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="c1">// (In this case, it gives `10.0`.)</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">rationally_converted_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">geo_mean_length</span><span class="p">.</span><span class="n">in</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">inch</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">centi</span><span class="p">(</span><span class="n">meters</span><span class="p">)));</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="c1">// This test case doesn&#39;t currently work.</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="c1">// Later, if we can compute radical conversion factors at compile time, it will.</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="c1">// (It should give roughly 6.274558...)</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="c1">// const auto radically_converted_value = geo_mean_length.in(inches);</span>
</code></pre></div>
</details>
<h3 id="trigonometric-functions">Trigonometric functions<a class="headerlink" href="#trigonometric-functions" title="Permanent link">&para;</a></h3>
<h4 id="sin-cos-tan"><code>sin</code>, <code>cos</code>, <code>tan</code><a class="headerlink" href="#sin-cos-tan" title="Permanent link">&para;</a></h4>
<p>The value of the named trigonometric function (<span class="arithmatex"><span class="MathJax_Preview">\sin</span><script type="math/tex">\sin</script></span>, <span class="arithmatex"><span class="MathJax_Preview">\cos</span><script type="math/tex">\cos</script></span>, or <span class="arithmatex"><span class="MathJax_Preview">\tan</span><script type="math/tex">\tan</script></span>), evaluated at an input
<code>Quantity</code> representing an angle.</p>
<p>If called with any <code>Quantity</code> which is not an angle, we produce a hard compiler error.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">//</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="c1">// sin()</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="c1">//</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="k">auto</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="c1">//</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="c1">// cos()</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="c1">//</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="k">auto</span><span class="w"> </span><span class="n">cos</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="c1">//</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="c1">// tan()</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="c1">//</span>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="k">auto</span><span class="w"> </span><span class="n">tan</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> The result of converting the input to <code>Radians</code>, and then calling the corresponding STL
function (that is, <code>std::sin()</code> for <code>sin()</code>, and so on).</p>
<p>In converting to radians, we mirror the corresponding STL functions in how we handle the rep.  For
floating point rep (<code>float</code>, <code>double</code>, and so on), the return type is the <code>rep</code>.  For integral
inputs (<code>int</code>, <code>uint32_t</code>, and so on), we cast to <code>double</code> and return <code>double</code>.  See, for instance,
the <a href="https://en.cppreference.com/w/cpp/numeric/math/sin"><code>std::sin</code> documentation</a>.</p>
<details class="example">
<summary>Example: using angles of integer degrees</summary>
<p>This example is taken from a test case in the library.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">EXPECT_NEAR</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">degrees</span><span class="p">(</span><span class="mi">30</span><span class="p">)),</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w"> </span><span class="mf">1e-15</span><span class="p">);</span>
</code></pre></div>
</details>
<h4 id="arcsin-arccos-arctan"><code>arcsin</code>, <code>arccos</code>, <code>arctan</code><a class="headerlink" href="#arcsin-arccos-arctan" title="Permanent link">&para;</a></h4>
<p>The standard inverse trigonometric functions, each returning a <code>Quantity</code> of <code>Radians</code>.</p>
<p>Each function corresponds to an STL function, except with <code>arc</code> replaced by <code>a</code>.  For example,
<code>arcsin()</code> corresponds to <code>std::asin()</code>, and so on.  This library&rsquo;s functions return
<code>Quantity&lt;Radians, T&gt;</code> whenever the corresponding STL function would return a <code>T</code>.</p>
<p>Their names are slightly different than the corresponding STL functions, because in C++ it&rsquo;s
impermissible to have two functions whose signatures differ only in their return type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more flexibility and robustness in dealing with arctangent use cases, see
<a href="#arctan2"><code>arctan2</code></a> below.</p>
</div>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">//</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="c1">// arcsin()</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1">//</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="k">auto</span><span class="w"> </span><span class="n">arcsin</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="c1">//</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="c1">// arccos()</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1">//</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="k">auto</span><span class="w"> </span><span class="n">arccos</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="c1">//</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="c1">// arctan()</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="c1">//</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="k">auto</span><span class="w"> </span><span class="n">arctan</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> <code>radians(stl_func(x))</code>, where <code>stl_func</code> is the corresponding STL function (that is,
<code>std::acos()</code> for <code>arccos()</code>, and so on).</p>
<details class="example">
<summary>Example: getting the result in degrees</summary>
<p>The fact that we return a <code>Quantity</code>, not a raw number, makes these functions far more flexible
than their STL counterparts.  For example, it&rsquo;s easy to get the result in degrees using fluent,
readable code:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">// It&#39;s easy to express the answer in your preferred angular units.</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="k">const</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">arcsin</span><span class="p">(</span><span class="mf">0.5</span><span class="p">).</span><span class="n">as</span><span class="p">(</span><span class="n">degrees</span><span class="p">);</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1">// This test verifies that the result has the value we&#39;d expect from basic trigonometry.</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">TOL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">degrees</span><span class="p">(</span><span class="mf">1e-12</span><span class="p">);</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="n">EXPECT_THAT</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span><span class="w"> </span><span class="n">IsNear</span><span class="p">(</span><span class="n">degrees</span><span class="p">(</span><span class="mf">30.0</span><span class="p">),</span><span class="w"> </span><span class="n">TOL</span><span class="p">));</span>
</code></pre></div>
</details>
<h4 id="arctan2"><code>arctan2</code><a class="headerlink" href="#arctan2" title="Permanent link">&para;</a></h4>
<p>The two-argument arctangent function, which determines the in-plane angle based on the <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> and <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span>
coordinates of a point in the plane.</p>
<p><code>arctan2</code> corresponds to <code>std::atan2</code>, but returns a <code>Quantity</code> of <code>Radians</code> instead of a raw
number.</p>
<p>This two-argument version is more robust than the single-argument version.  <code>arctan2(y, x)</code> is
equivalent to <code>arctan(y / x)</code>, but it avoids the problems faced by the latter whenever <code>x</code> is zero.</p>
<p>Unlike the other inverse trigonometric functions, which only support raw numeric inputs, <code>arctan2</code>
also supports <code>Quantity</code> inputs.  These inputs must have the same dimension, or else we will produce
a hard compiler error.  We convert them to their common unit, if necessary, before delegating to
<code>std::atan2</code>.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">// 1. Raw numeric inputs.</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="o">&gt;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">auto</span><span class="w"> </span><span class="n">arctan2</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">U</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="c1">// 2. Quantity inputs (must be same dimension).</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="k">auto</span><span class="w"> </span><span class="n">arctan2</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> <code>radians(std::atan2(y, x))</code>.  If the inputs are <code>Quantity</code> types, then instead of
passing <code>y</code> and <code>x</code>, we first convert them to their common unit, and pass their values in that unit.</p>
<h3 id="rounding-functions">Rounding functions<a class="headerlink" href="#rounding-functions" title="Permanent link">&para;</a></h3>
<h4 id="round_as-round_in"><code>round_as</code>, <code>round_in</code><a class="headerlink" href="#round_as-round_in" title="Permanent link">&para;</a></h4>
<p>Round a <code>Quantity</code> to the nearest integer value, using units that are specified explicitly at the
callsite.</p>
<p>These functions are intended as unit-aware analogues to
<a href="https://en.cppreference.com/w/cpp/numeric/math/round"><code>std::round</code></a>.  However, we firmly oppose the
idea of providing the same (single-argument) API as <code>std::round</code> for <code>Quantity</code>, because a quantity
has no single well-defined result: it depends on the units.  (For example, <code>std::round(height)</code> is
an intrinsically ill-formed concept: what is an &ldquo;integer height&rdquo;?)</p>
<p>As with everything else in the library, <code>"as"</code> is a word that means &ldquo;return a <code>Quantity</code>&rdquo;, and
<code>"in"</code> is a word that means &ldquo;return a raw number&rdquo;.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">//</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="c1">// round_as(): return a Quantity or QuantityPoint (depending on the input type)</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1">//</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="c1">//    `round_as(units, quantity)`</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="c1">//    `round_as&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="c1">//</span>
<a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="c1">// round_in(): return a raw number</span>
<a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="c1">//</span>
<a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a>
<a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="c1">//    `round_in(units, quantity)`</span>
<a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a>
<a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a>
<a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a>
<a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="c1">//    `round_in&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a>
<a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a>
<a id="__codelineno-12-50" name="__codelineno-12-50" href="#__codelineno-12-50"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-12-51" name="__codelineno-12-51" href="#__codelineno-12-51"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-12-52" name="__codelineno-12-52" href="#__codelineno-12-52"></a><span class="k">auto</span><span class="w"> </span><span class="n">round_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> A <code>Quantity</code> or <code>QuantityPoint</code> (depending on the input type), expressed in the
requested units, which has an integer value in those units. We return the nearest such quantity to
the original input quantity.</p>
<p>The policy for the rep is consistent with
<a href="https://en.cppreference.com/w/cpp/numeric/math/round"><code>std::round</code></a>.  The output rep is the same as
the return type of applying <code>std::round</code> to the input rep.</p>
<h4 id="ceil_in-ceil_as"><code>ceil_in</code>, <code>ceil_as</code><a class="headerlink" href="#ceil_in-ceil_as" title="Permanent link">&para;</a></h4>
<p>Round a <code>Quantity</code> up to the smallest integer value which is at least as big as that quantity, using
units that are specified explicitly at the callsite.</p>
<p>These functions are intended as unit-aware analogues to
<a href="https://en.cppreference.com/w/cpp/numeric/math/ceil"><code>std::ceil</code></a>.  However, we firmly oppose the
idea of providing the same (single-argument) API as <code>std::ceil</code> for <code>Quantity</code>, because a quantity
has no single well-defined result: it depends on the units.  (For example, <code>std::ceil(height)</code> is an
intrinsically ill-formed concept: what is an &ldquo;integer height&rdquo;?)</p>
<p>As with everything else in the library, <code>"as"</code> is a word that means &ldquo;return a <code>Quantity</code>&rdquo;, and
<code>"in"</code> is a word that means &ldquo;return a raw number&rdquo;.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">//</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1">// ceil_as(): return a Quantity or QuantityPoint (depending on the input type)</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="c1">//</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="c1">//    `ceil_as(units, quantity)`</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="c1">//    `ceil_as&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="c1">//</span>
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a><span class="c1">// ceil_in(): return a raw number</span>
<a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a><span class="c1">//</span>
<a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a>
<a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="c1">//    `ceil_in(units, quantity)`</span>
<a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a>
<a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a>
<a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a>
<a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a><span class="c1">//    `ceil_in&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a>
<a id="__codelineno-13-46" name="__codelineno-13-46" href="#__codelineno-13-46"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-13-47" name="__codelineno-13-47" href="#__codelineno-13-47"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-48" name="__codelineno-13-48" href="#__codelineno-13-48"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-13-49" name="__codelineno-13-49" href="#__codelineno-13-49"></a>
<a id="__codelineno-13-50" name="__codelineno-13-50" href="#__codelineno-13-50"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-13-51" name="__codelineno-13-51" href="#__codelineno-13-51"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-52" name="__codelineno-13-52" href="#__codelineno-13-52"></a><span class="k">auto</span><span class="w"> </span><span class="n">ceil_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> A <code>Quantity</code>, expressed in the requested units, which has an integer value in those
units.  We return the smallest such quantity which is no smaller than the original input quantity.</p>
<p>The policy for the rep is consistent with
<a href="https://en.cppreference.com/w/cpp/numeric/math/ceil"><code>std::ceil</code></a>.  The output rep is the same as
the return type of applying <code>std::ceil</code> to the input rep.</p>
<h4 id="floor_in-floor_as"><code>floor_in</code>, <code>floor_as</code><a class="headerlink" href="#floor_in-floor_as" title="Permanent link">&para;</a></h4>
<p>Round a <code>Quantity</code> down to the largest integer value which is no bigger than that quantity, using
the units that are specified explicitly at the callsite.</p>
<p>These functions are intended as unit-aware analogues to
<a href="https://en.cppreference.com/w/cpp/numeric/math/floor"><code>std::floor</code></a>.  However, we firmly oppose the
idea of providing the same (single-argument) API as <code>std::floor</code> for <code>Quantity</code>, because a quantity
has no single well-defined result: it depends on the units.  (For example, <code>std::floor(height)</code> is an
intrinsically ill-formed concept: what is an &ldquo;integer height&rdquo;?)</p>
<p>As with everything else in the library, <code>"as"</code> is a word that means &ldquo;return a <code>Quantity</code>&rdquo;, and
<code>"in"</code> is a word that means &ldquo;return a raw number&rdquo;.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">//</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="c1">// floor_as(): return a Quantity or QuantityPoint (depending on the input type)</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="c1">//</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="c1">//    `floor_as(units, quantity)`</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="c1">//    `floor_as&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a>
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_as</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a>
<a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a>
<a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a><span class="c1">//</span>
<a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="c1">// floor_in(): return a raw number</span>
<a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="c1">//</span>
<a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a>
<a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a><span class="c1">//    `floor_in(units, quantity)`</span>
<a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a>
<a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a>
<a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a>
<a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a><span class="c1">//    `floor_in&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-14-45" name="__codelineno-14-45" href="#__codelineno-14-45"></a>
<a id="__codelineno-14-46" name="__codelineno-14-46" href="#__codelineno-14-46"></a><span class="c1">// a) For `Quantity` inputs</span>
<a id="__codelineno-14-47" name="__codelineno-14-47" href="#__codelineno-14-47"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-48" name="__codelineno-14-48" href="#__codelineno-14-48"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-14-49" name="__codelineno-14-49" href="#__codelineno-14-49"></a>
<a id="__codelineno-14-50" name="__codelineno-14-50" href="#__codelineno-14-50"></a><span class="c1">// b) For `QuantityPoint` inputs</span>
<a id="__codelineno-14-51" name="__codelineno-14-51" href="#__codelineno-14-51"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OutputRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">RoundingUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-52" name="__codelineno-14-52" href="#__codelineno-14-52"></a><span class="k">auto</span><span class="w"> </span><span class="n">floor_in</span><span class="p">(</span><span class="n">RoundingUnits</span><span class="w"> </span><span class="n">rounding_units</span><span class="p">,</span><span class="w"> </span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> A <code>Quantity</code>, expressed in the requested units, which has an integer value in those
units.  We return the largest such quantity which is no larger than the original input quantity.</p>
<p>The policy for the rep is consistent with
<a href="https://en.cppreference.com/w/cpp/numeric/math/floor"><code>std::floor</code></a>.  The output rep is the same as
the return type of applying <code>std::floor</code> to the input rep.</p>
<h3 id="inverse-functions">Inverse functions<a class="headerlink" href="#inverse-functions" title="Permanent link">&para;</a></h3>
<h4 id="inverse_as-inverse_in"><code>inverse_as</code>, <code>inverse_in</code><a class="headerlink" href="#inverse_as-inverse_in" title="Permanent link">&para;</a></h4>
<p>A unit-aware computation of <span class="arithmatex"><span class="MathJax_Preview">1 / x</span><script type="math/tex">1 / x</script></span>.</p>
<p>&ldquo;Unit-aware&rdquo; means that you specify the desired target unit, and the library will figure out the
appropriate units for representing the <span class="arithmatex"><span class="MathJax_Preview">1</span><script type="math/tex">1</script></span> in <span class="arithmatex"><span class="MathJax_Preview">1 / x</span><script type="math/tex">1 / x</script></span>.  This intelligent choice enables it to
automatically handle many conversions with integer types, without the computation ever needing to
leave the integer domain.</p>
<details class="example">
<summary>Example: inverse of <span class="arithmatex"><span class="MathJax_Preview">250 \,\text{Hz}</span><script type="math/tex">250 \,\text{Hz}</script></span></summary>
<p>The inverse of <span class="arithmatex"><span class="MathJax_Preview">250 \,\text{Hz}</span><script type="math/tex">250 \,\text{Hz}</script></span> is <span class="arithmatex"><span class="MathJax_Preview">0.004 \,\text{s}</span><script type="math/tex">0.004 \,\text{s}</script></span>.  If we are using integer types, of
course this would truncate down to <span class="arithmatex"><span class="MathJax_Preview">0</span><script type="math/tex">0</script></span>. However, we could choose an alternate unit &mdash; say,
<span class="arithmatex"><span class="MathJax_Preview">\text{µs}</span><script type="math/tex">\text{µs}</script></span> &mdash; and we would get a &ldquo;nicer&rdquo; answer of <span class="arithmatex"><span class="MathJax_Preview">4000 \,\text{µs}</span><script type="math/tex">4000 \,\text{µs}</script></span>.</p>
<p>Now for Au.  If you request the inverse of <code>hertz(250)</code> in <code>micro(seconds)</code>, the library will
indeed return <code>micro(seconds)(4000)</code> &mdash; and it can perform this computation without ever
leaving the integer domain!  What happens under the hood is that the value of <code>250</code> is divided
into a value of <code>1'000'000</code>, not <code>1</code>.</p>
<p>To see how we came up with this value, let&rsquo;s re-express the fundamental equation.  Let <span class="arithmatex"><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span> be
the original quantity, and <span class="arithmatex"><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> its inverse.  We have:</p>
<div class="arithmatex">
<div class="MathJax_Preview">
\begin{align}
y &amp;= 1 / x \\
1 &amp;= xy
\end{align}
</div>
<script type="math/tex; mode=display">
\begin{align}
y &= 1 / x \\
1 &= xy
\end{align}
</script>
</div>
<p>This is a quantity equation.  And since multiplication is an <a href="../../discussion/concepts/arithmetic/#arbitrary-unit">arbitrary-unit
operation</a>, we can <em>reason independently
about the unit</em> and the value.  The units on the right hand side are <code>hertz * micro(seconds)</code>.
This is a dimensionless unit with a magnitude of <span class="arithmatex"><span class="MathJax_Preview">10^{-6}</span><script type="math/tex">10^{-6}</script></span>.  The units on the left hand side
must match; therefore, we must express <span class="arithmatex"><span class="MathJax_Preview">1</span><script type="math/tex">1</script></span> in these units.  When we do, we find its value in
these units is <span class="arithmatex"><span class="MathJax_Preview">10^6</span><script type="math/tex">10^6</script></span> &mdash; or, in C++ code, <code>1'000'000</code>.</p>
<p>That is how the library knows to divide <code>250</code> into <code>1'000'000</code> to get an answer of <code>4'000</code> &mdash;
all without ever leaving the integer domain.</p>
</details>
<p>These functions include safety checks.</p>
<ul>
<li><code>Quantity</code> inputs with floating point rep are always allowed.</li>
<li><code>Quantity</code> inputs with integral rep are allowed only when the product of the input and target
  units &mdash; which is necessarily dimensionless &mdash; has a magnitude not greater than <span class="arithmatex"><span class="MathJax_Preview">10^{-6}</span><script type="math/tex">10^{-6}</script></span>.  We
  chose this threshold because it means that the round-trip double inversion will be lossless for
  any <code>Quantity</code> whose underlying value is not greater than <code>1'000</code>.</li>
</ul>
<p>As with all other library functions, you can circumvent the safety checks by using one of the
&ldquo;explicit-rep&rdquo; versions, which are forcing in the same way as <code>static_cast</code>.</p>
<p><strong>Signatures:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">//</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="c1">// inverse_as(): return a Quantity</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="c1">//</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="c1">//    `inverse_as(units, quantity)`</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">TargetUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">inverse_as</span><span class="p">(</span><span class="n">TargetUnits</span><span class="w"> </span><span class="n">target_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="c1">//    `inverse_as&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">TargetRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">TargetUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">inverse_as</span><span class="p">(</span><span class="n">TargetUnits</span><span class="w"> </span><span class="n">target_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="c1">//</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="c1">// inverse_in(): return a raw number</span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="c1">//</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="c1">// 1. Unit-only version (including safety checks).  Typical callsites look like:</span>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="c1">//    `inverse_in(units, quantity)`</span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">TargetUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">inverse_in</span><span class="p">(</span><span class="n">TargetUnits</span><span class="w"> </span><span class="n">target_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="c1">// 2. Explicit-rep version (overriding; ignores safety checks).  Typical callsites look like:</span>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="c1">//    `inverse_in&lt;Type&gt;(units, quantity)`</span>
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">TargetRep</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">TargetUnits</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="k">constexpr</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">inverse_in</span><span class="p">(</span><span class="n">TargetUnits</span><span class="w"> </span><span class="n">target_units</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> The inverse of the input <code>Quantity</code>, expressed in the requested units.</p>
<h3 id="special-values-and-language-features">Special values and language features<a class="headerlink" href="#special-values-and-language-features" title="Permanent link">&para;</a></h3>
<h4 id="isnan"><code>isnan</code><a class="headerlink" href="#isnan" title="Permanent link">&para;</a></h4>
<p>Indicates whether the underlying value of a <code>Quantity</code> is a NaN (&ldquo;not-a-number&rdquo;) value.</p>
<p><strong>Signature:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">// 1. `Quantity` inputs</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="k">constexpr</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isnan</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="c1">// 2. `QuantityPoint` inputs</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="k">constexpr</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isnan</span><span class="p">(</span><span class="n">QuantityPoint</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> <code>true</code> if <code>q</code> is NaN; <code>false</code> otherwise.</p>
<h4 id="stdnumeric_limits-specializations"><code>std::numeric_limits</code> specializations<a class="headerlink" href="#stdnumeric_limits-specializations" title="Permanent link">&para;</a></h4>
<p>Specializations for <code>std::numeric_limits&lt;Quantity&lt;...&gt;&gt;</code>.</p>
<p>For any <code>Quantity&lt;UnitT, Rep&gt;</code>, we simply delegate to <code>std::numeric_limits&lt;Rep&gt;</code> in the appropriate
way, being careful to follow the <a href="https://en.cppreference.com/w/cpp/language/extending_std">rules for specializing</a>, and adapt the result we get.  For
example, <code>std::numeric_limits&lt;Quantity&lt;Hours, int&gt;&gt;::max()</code> is exactly equal to
<code>hours(std::numeric_limits&lt;int&gt;::max())</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be careful about using these limits in the presence of <strong>different</strong> Units of the same
<strong>Dimension</strong>.  Comparison operations will <em>compile</em>, but may not do what you expect.  Consider
this example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">seconds</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">numeric_limits</span><span class="o">&lt;</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">Hours</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;&gt;::</span><span class="n">max</span><span class="p">()</span>
</code></pre></div>
<p>Clearly, we&rsquo;d want this to be <code>true</code>&hellip; but, in converting both sides to their common type, we&rsquo;d
end up multiplying the max-int on the right by 3600.  What answer would we get for the
comparison?  It&rsquo;s far from clear.</p>
<p>If you use these for a <strong>single</strong> <code>Quantity</code> type (i.e., same Unit and Rep), they should be just
fine.  (Then again&mdash;perhaps this is a good opportunity to ask yourself what you&rsquo;re <em>really</em>
trying to accomplish, and whether using the largest finite value of a particular type is the
best way to achieve it!)</p>
</div>
<script src="../../assets/hrh4.js" async=false defer=false></script>
<h3 id="miscellaneous">Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permanent link">&para;</a></h3>
<h4 id="fmod"><code>fmod</code><a class="headerlink" href="#fmod" title="Permanent link">&para;</a></h4>
<p>A unit-aware adaptation of <code>std::fmod</code>, giving the positive remainder of the division of the two
inputs.</p>
<p>As with the <a href="../quantity/#mod">integer modulus</a>, we first express the inputs in their <a href="../../discussion/concepts/common_unit/">common
unit</a>.</p>
<p><strong>Signature:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">fmod</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q1</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q2</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> The remainder of <code>q1 / q2</code>, in the type <code>Quantity&lt;U, R&gt;</code>, where <code>U</code> is the common unit
of <code>U1</code> and <code>U2</code>, and <code>R</code> is the common type of <code>R1</code> and <code>R2</code>.</p>
<h4 id="remainder"><code>remainder</code><a class="headerlink" href="#remainder" title="Permanent link">&para;</a></h4>
<p>A unit-aware adaptation of <code>std::remainder</code>, giving the zero-centered remainder of the division of
the two inputs.</p>
<p>As with the <a href="../quantity/#mod">integer modulus</a>, we first express the inputs in their <a href="../../discussion/concepts/common_unit/">common
unit</a>.</p>
<p><strong>Signature:</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R1</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">U2</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R2</span><span class="o">&gt;</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="k">auto</span><span class="w"> </span><span class="n">remainder</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span><span class="w"> </span><span class="n">R1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q1</span><span class="p">,</span><span class="w"> </span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span><span class="w"> </span><span class="n">R2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q2</span><span class="p">);</span>
</code></pre></div>
<p><strong>Returns:</strong> The remainder of <code>q1 / q2</code>, in the type <code>Quantity&lt;U, R&gt;</code>, where <code>U</code> is the common unit
of <code>U1</code> and <code>U2</code>, and <code>R</code> is the common type of <code>R1</code> and <code>R2</code>.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>These signatures are for purposes of illustration, not completeness.  In the real code, there
are additional signatures covering the case of identical inputs.  We need these in order to
disambiguate our <code>min</code> or <code>max</code> implementations with respect to <code>std::min</code> and <code>std::max</code>.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../magnitude/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Magnitude">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Magnitude
              </div>
            </div>
          </a>
        
        
          
          <a href="../powers/" class="md-footer__link md-footer__link--next" aria-label="Next: Powers">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Powers
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022, Aurora Operations, Inc. All rights reserved
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "toc.integrate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>