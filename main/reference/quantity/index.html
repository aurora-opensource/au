
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A C++ units library, by Aurora">
      
      
        <meta name="author" content="Au team">
      
      
        <link rel="canonical" href="https://aurora-opensource.github.io/au/main/reference/quantity/">
      
      
        <link rel="prev" href="../prefix/">
      
      
        <link rel="next" href="../quantity_point/">
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.1, mkdocs-material-9.1.21">
    
    
      
        <title>Quantity - The Au units library</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../tweaks.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quantity" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="The Au units library" class="md-header__button md-logo" aria-label="The Au units library" data-md-component="logo">
      
  <img src="../../assets/au-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Au units library
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quantity
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aurora-opensource/au" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="The Au units library" class="md-nav__button md-logo" aria-label="The Au units library" data-md-component="logo">
      
  <img src="../../assets/au-logo.png" alt="logo">

    </a>
    The Au units library
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aurora-opensource/au" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Au documentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../develop/" class="md-nav__link">
        Development Setup
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../supported-compilers/" class="md-nav__link">
        Supported Compilers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        Troubleshooting Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Alternatives
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Alternatives
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../alternatives/" class="md-nav__link">
        Comparison of Alternatives
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Discussion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Discussion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/" class="md-nav__link">
        Discussion Docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
      
      
      
        <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
          Concepts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/" class="md-nav__link">
        Generic Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/arithmetic/" class="md-nav__link">
        Arithmetic Operations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/common_unit/" class="md-nav__link">
        Common Units
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/dimensionless/" class="md-nav__link">
        Dimensionless Units and Quantities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/quantity_point/" class="md-nav__link">
        Quantity Point
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/concepts/zero/" class="md-nav__link">
        Zero
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
      
      
      
        <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
          Idioms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_3">
          <span class="md-nav__icon md-icon"></span>
          Idioms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/idioms/" class="md-nav__link">
        Au Idioms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/idioms/unit-slots/" class="md-nav__link">
        Unit slots
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
      
      
      
        <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
          Implementation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          Implementation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/implementation/" class="md-nav__link">
        Implementation Details
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../discussion/implementation/vector_space/" class="md-nav__link">
        Vector Space Representations
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Howto
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Howto
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/" class="md-nav__link">
        How-to guides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/new-dimensions/" class="md-nav__link">
        Defining new dimensions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../howto/new-units/" class="md-nav__link">
        Defining new units
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Reference Docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../corresponding_quantity/" class="md-nav__link">
        Corresponding Quantity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../magnitude/" class="md-nav__link">
        Magnitude
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../math/" class="md-nav__link">
        Math functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../powers/" class="md-nav__link">
        Powers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../prefix/" class="md-nav__link">
        Prefix
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Quantity
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Quantity
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#naming-quantity-in-code" class="md-nav__link">
    Naming Quantity in code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constructing" class="md-nav__link">
    Constructing Quantity
  </a>
  
    <nav class="md-nav" aria-label="Constructing Quantity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quantity-maker-preferred" class="md-nav__link">
    Quantity Maker (preferred)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implicit-from-quantity" class="md-nav__link">
    Implicit constructor from another Quantity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructing-from-zero" class="md-nav__link">
    Constructing from Zero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-constructor" class="md-nav__link">
    Default constructor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructing-from-corresponding-quantity" class="md-nav__link">
    Constructing from corresponding quantity
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extracting-the-stored-value" class="md-nav__link">
    Extracting the stored value
  </a>
  
    <nav class="md-nav" aria-label="Extracting the stored value">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extracting-with-in" class="md-nav__link">
    .in(unit)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data_inunit" class="md-nav__link">
    .data_in(unit)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performing-unit-conversions" class="md-nav__link">
    Performing unit conversions
  </a>
  
    <nav class="md-nav" aria-label="Performing unit conversions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#as" class="md-nav__link">
    .as(unit), .as&lt;T&gt;(unit)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inunit-intunit" class="md-nav__link">
    .in(unit), .in&lt;T&gt;(unit)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    Operations
  </a>
  
    <nav class="md-nav" aria-label="Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparison" class="md-nav__link">
    Comparison
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition" class="md-nav__link">
    Addition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtraction" class="md-nav__link">
    Subtraction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiplication" class="md-nav__link">
    Multiplication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#division" class="md-nav__link">
    Division
  </a>
  
    <nav class="md-nav" aria-label="Division">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integer_quotient" class="md-nav__link">
    integer_quotient()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unary-and-" class="md-nav__link">
    Unary + and -
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shorthand-addition-and-subtraction-" class="md-nav__link">
    Shorthand addition and subtraction (+=, -=)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#shorthand-multiplication-and-division" class="md-nav__link">
    Shorthand multiplication and division (*=, /=)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-conversion-to-rep" class="md-nav__link">
    Automatic conversion to Rep
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mod" class="md-nav__link">
    Mod (%)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rep_cast" class="md-nav__link">
    rep_cast
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates-and-traits" class="md-nav__link">
    Templates and Traits
  </a>
  
    <nav class="md-nav" aria-label="Templates and Traits">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matching-typename-u-typename-r" class="md-nav__link">
    Matching: typename U, typename R
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rep" class="md-nav__link">
    ::Rep
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit" class="md-nav__link">
    ::Unit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit_1" class="md-nav__link">
    ::unit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-type" class="md-nav__link">
    std::common_type specialization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arequantitytypesequivalent" class="md-nav__link">
    AreQuantityTypesEquivalent
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quantity_point/" class="md-nav__link">
        QuantityPoint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../unit/" class="md-nav__link">
        Unit
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zero/" class="md-nav__link">
        Zero
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_11" >
      
      
      
        <label class="md-nav__link" for="__nav_9_11" id="__nav_9_11_label" tabindex="0">
          Detail
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9_11">
          <span class="md-nav__icon md-icon"></span>
          Detail
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../detail/" class="md-nav__link">
        Implementation Details
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../detail/dimension/" class="md-nav__link">
        Dimension
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../detail/monovalue_types/" class="md-nav__link">
        Monovalue Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../detail/packs/" class="md-nav__link">
        Parameter packs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Tutorial
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/" class="md-nav__link">
        Tutorials: home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/101-quantity-makers/" class="md-nav__link">
        Au 101: Quantity Makers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/102-api-types/" class="md-nav__link">
        Au 102: API Types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/103-unit-conversions/" class="md-nav__link">
        Au 103: Unit Conversions
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_5" >
      
      
      
        <label class="md-nav__link" for="__nav_10_5" id="__nav_10_5_label" tabindex="0">
          Exercise
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10_5">
          <span class="md-nav__icon md-icon"></span>
          Exercise
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/exercise/101-quantity-makers/" class="md-nav__link">
        Au 101: Quantity Makers Exercise
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/exercise/102-api-types/" class="md-nav__link">
        Au 102: API Types Exercise
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/exercise/103-unit-conversions/" class="md-nav__link">
        Au 103: Unit Conversions Exercise
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="quantity">Quantity<a class="headerlink" href="#quantity" title="Permanent link">&para;</a></h1>
<p><code>Quantity</code> is our workhorse type.  It combines a runtime numeric value with compile-time information
about the units of measure in which that quantity is expressed.</p>
<p><code>Quantity</code> comes with &ldquo;batteries included&rdquo;.  We try to support as many operations as possible
natively, to avoid incentivizing users to leave the safety of the units library.</p>
<p><code>Quantity</code> is a template, <code>Quantity&lt;U, R&gt;</code>, with two parameters.  Both are typenames.</p>
<ul>
<li><code>U</code> is the <em>unit</em>: a type representing the <a href="../unit/">unit of measure</a>.</li>
<li><code>R</code> is the <em>&ldquo;rep&rdquo;</em>, a term we borrow from the <a href="https://en.cppreference.com/w/cpp/chrono/duration"><code>std::chrono</code>
  library</a>.  It&rsquo;s the underlying raw numeric type
  which holds the wrapped value.</li>
</ul>
<details class="tip">
<summary>Handling temperatures</summary>
<p>If you are working with temperatures &mdash; in the sense of &ldquo;what temperature is it?&rdquo;, rather than
&ldquo;how much did the temperature change?&rdquo; &mdash; you will want to use
<a href="../quantity_point/"><code>QuantityPoint</code></a> instead of <code>Quantity</code>.  For further useful background
reading, see our <a href="../../discussion/concepts/quantity_point/">quantity point discussion</a>.</p>
</details>
<h2 id="naming-quantity-in-code">Naming <code>Quantity</code> in code<a class="headerlink" href="#naming-quantity-in-code" title="Permanent link">&para;</a></h2>
<p>You can use both template parameters directly (for example, <code>Quantity&lt;Meters, int&gt;</code>).  However,
multiple template parameters can be awkward to read.  It can also give the parser some trouble when
you&rsquo;re forced to use macros, as in googletest.  For that reason, we also provide &ldquo;Rep-named
aliases&rdquo;, so you can express the rep more precisely, and put the visual focus on the unit:</p>
<table>
<thead>
<tr>
<th>Rep-named alias</th>
<th>Equivalent to:</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QuantityD&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, double&gt;</code></td>
</tr>
<tr>
<td><code>QuantityF&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, float&gt;</code></td>
</tr>
<tr>
<td><code>QuantityI&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, int&gt;</code></td>
</tr>
<tr>
<td><code>QuantityU&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, unsigned int&gt;</code></td>
</tr>
<tr>
<td><code>QuantityI32&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, int32_t&gt;</code></td>
</tr>
<tr>
<td><code>QuantityU32&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, uint32_t&gt;</code></td>
</tr>
<tr>
<td><code>QuantityI64&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, int64_t&gt;</code></td>
</tr>
<tr>
<td><code>QuantityU64&lt;U&gt;</code></td>
<td><code>Quantity&lt;U, uint64_t&gt;</code></td>
</tr>
</tbody>
</table>
<p>For more practice with this, see <a href="../../tutorial/102-api-types/">Tutorial 102: API Types</a>.</p>
<h2 id="constructing">Constructing <code>Quantity</code><a class="headerlink" href="#constructing" title="Permanent link">&para;</a></h2>
<p>There are several ways to construct a <code>Quantity</code> object.  For concreteness, we&rsquo;ll use this skeleton
to show the signatures.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">Unit</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">Rep</span><span class="o">&gt;</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">Quantity</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">   </span><span class="c1">// A) Implicit constructor from another Quantity</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">   </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OtherUnit</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">OtherRep</span><span class="o">&gt;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">   </span><span class="n">Quantity</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">OtherUnit</span><span class="p">,</span><span class="w"> </span><span class="n">OtherRep</span><span class="o">&gt;</span><span class="w"> </span><span class="n">other</span><span class="p">);</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">   </span><span class="c1">// B) Construct from `Zero`</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">   </span><span class="n">Quantity</span><span class="p">(</span><span class="n">Zero</span><span class="p">);</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">   </span><span class="c1">// C) Default constructor</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">   </span><span class="n">Quantity</span><span class="p">();</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">   </span><span class="c1">// D) Construct from equivalent type</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">   </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">   </span><span class="n">Quantity</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">   </span><span class="c1">// NOTE: only exists when `T` is an &quot;exactly-equivalent&quot; type.  One example:</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">   </span><span class="c1">// `std::chrono::nanoseconds` can construct an `au::QuantityI64&lt;Nano&lt;Seconds&gt;&gt;`.</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="p">};</span>
</code></pre></div>
<p>However, the <em>preferred</em> way to construct a <code>Quantity</code> is actually none of these.  It&rsquo;s the
<em>quantity maker</em>, which we describe next.</p>
<h3 id="quantity-maker-preferred">Quantity Maker (preferred)<a class="headerlink" href="#quantity-maker-preferred" title="Permanent link">&para;</a></h3>
<p>The preferred way to construct a <code>Quantity</code> of a given unit is to use the <em>quantity maker</em> for that
unit.  This is a callable whose name is the plural form of that unit, expressed in &ldquo;snake_case&rdquo;: for
example, <code>nautical_miles</code>.  When you pass a raw numeric variable of type <code>T</code> to the quantity maker,
it returns a <code>Quantity</code> of the unit it represents, whose rep type is <code>T</code>.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><code>nautical_miles(15)</code> returns a <code>Quantity&lt;NauticalMiles, int&gt;</code>.</p>
</div>
<p>For more practice with quantity makers, see <a href="../../tutorial/101-quantity-makers/">Tutorial 101: Quantity
Makers</a>.</p>
<h3 id="implicit-from-quantity">Implicit constructor from another <code>Quantity</code><a class="headerlink" href="#implicit-from-quantity" title="Permanent link">&para;</a></h3>
<p>This is option <code>A)</code> from the <a href="#constructing">previous section</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">OtherUnit</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">OtherRep</span><span class="o">&gt;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">Unit</span><span class="p">,</span><span class="w"> </span><span class="n">Rep</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">OtherUnit</span><span class="p">,</span><span class="w"> </span><span class="n">OtherRep</span><span class="o">&gt;</span><span class="w"> </span><span class="n">other</span><span class="p">);</span>
</code></pre></div>
<p>This constructor performs a unit conversion.  The result will represent the <em>same quantity</em> as the
input, but expressed in the <em>units</em> of the newly constructed object&rsquo;s type.  It will also convert
the stored value to the <em>rep</em> of the constructed object, if necessary.</p>
<p>This constructor only exists when this unit-and-rep conversion is both meaningful and safe.  It can
fail to exist in several ways.</p>
<ol>
<li>
<p>If the input quantity has a <strong>different dimension</strong>, then the operation is intrinsically
   meaningless and we forbid it.</p>
</li>
<li>
<p>If the <em>constructed</em> quantity&rsquo;s rep (that is, <code>Rep</code> in the code snippet above) is <strong>not floating
   point</strong>, then we forbid any conversion that might produce a non-integer value.  Examples include:</p>
<p>a. When <code>OtherRep</code> <em>is floating point</em>, we forbid this conversion.</p>
<p>b. When <code>UnitRatioT&lt;OtherUnit, Unit&gt;</code> is <em>not an integer</em>, we forbid this conversion.</p>
</li>
<li>
<p>If we&rsquo;re performing an integer-to-integer conversion, and the conversion factor carries
   a significant risk of overflowing the rep, we forbid the conversion.  This is the adaptive
   &ldquo;overflow safety surface&rdquo; which we featured in our <a href="https://blog.aurora.tech/engineering/introducing-au-our-open-source-c-units-library">Au announcement blog
   post</a>.</p>
</li>
</ol>
<p>These last two are examples of conversions that are physically meaningful, but forbidden due to the
risk of larger-than-usual errors.  The library can still perform these conversions, but not via this
constructor, and it must be &ldquo;forced&rdquo; to do so.  See <a href="#as"><code>.as&lt;T&gt;(unit)</code></a> for more details.</p>
<h3 id="constructing-from-zero">Constructing from <code>Zero</code><a class="headerlink" href="#constructing-from-zero" title="Permanent link">&para;</a></h3>
<p>This is option <code>B)</code> from the <a href="#constructing">previous section</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">Quantity</span><span class="p">(</span><span class="n">Zero</span><span class="p">);</span>
</code></pre></div>
<p>This constructs a <code>Quantity</code> with a value of 0.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>Zero</code> is the name of the type.  At the callsite, you would pass an <em>instance</em> of that type,
such as the constant <code>ZERO</code>.  For example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">QuantityD</span><span class="o">&lt;</span><span class="n">Meters</span><span class="o">&gt;</span><span class="w"> </span><span class="n">height</span><span class="p">{</span><span class="n">ZERO</span><span class="p">};</span>
</code></pre></div>
</div>
<h3 id="default-constructor">Default constructor<a class="headerlink" href="#default-constructor" title="Permanent link">&para;</a></h3>
<p>This is option <code>C)</code> from the <a href="#constructing">previous section</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">Quantity</span><span class="p">();</span>
</code></pre></div>
<p>A default-constructed <code>Quantity</code> is initialized to some value, which helps avoid certain kinds of
memory safety bugs.  However, the value is contractually unspecified.  You can look up that value by
reading the source code, but we may change it in the future, and we would not consider this to be
a breaking change.  The only valid operation on a default-constructed <code>Quantity</code> is to assign to it
later on.</p>
<h3 id="constructing-from-corresponding-quantity">Constructing from corresponding quantity<a class="headerlink" href="#constructing-from-corresponding-quantity" title="Permanent link">&para;</a></h3>
<p>This is option <code>D)</code> from the <a href="#constructing">previous section</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">Quantity</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="c1">// NOTE: only exists when `T` is an &quot;exactly-equivalent&quot; type.  One example:</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="c1">// `std::chrono::nanoseconds` can construct an `au::QuantityI64&lt;Nano&lt;Seconds&gt;&gt;`.</span>
</code></pre></div>
<p>This constructor will only exist when <code>T</code> has a <a href="../corresponding_quantity/">&ldquo;corresponding
quantity&rdquo;</a>, and this <code>Quantity</code> type is <em>implicitly constructible</em> from
that &ldquo;corresponding quantity&rdquo; type by <a href="#implicit-from-quantity">the above mechanism</a>.</p>
<h2 id="extracting-the-stored-value">Extracting the stored value<a class="headerlink" href="#extracting-the-stored-value" title="Permanent link">&para;</a></h2>
<p>In order to access the raw numeric value stored inside of <code>Quantity</code>, you must explicitly name the
unit at the callsite.  There are two functions which can do this, depending on whether you want to
access by value or by reference.</p>
<h3 id="extracting-with-in"><code>.in(unit)</code><a class="headerlink" href="#extracting-with-in" title="Permanent link">&para;</a></h3>
<p>This function returns the underlying stored value, by value.  See the <a href="../../discussion/idioms/unit-slots/">unit
slots</a> discussion for valid choices for <code>unit</code>.</p>
<details class="example">
<summary>Example: extracting <code>4.56</code> from <code>seconds(4.56)</code></summary>
<p>Consider this <code>Quantity&lt;Seconds, double&gt;</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="k">auto</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seconds</span><span class="p">(</span><span class="mf">4.56</span><span class="p">);</span>
</code></pre></div>
<p>You can retrieve the underlying value by writing either <code>t.in(seconds)</code> (passing the
<code>QuantityMaker</code>), or <code>t.in(Seconds{})</code> (passing an instance of the unit).</p>
</details>
<h3 id="data_inunit"><code>.data_in(unit)</code><a class="headerlink" href="#data_inunit" title="Permanent link">&para;</a></h3>
<p>This function returns a reference to the underlying stored value.  See the <a href="../../discussion/idioms/unit-slots/">unit
slots</a> discussion for valid choices for <code>unit</code>.</p>
<details class="example">
<summary>Example: incrementing the underlying stored value</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">auto</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inches</span><span class="p">(</span><span class="mi">60</span><span class="p">);</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">length</span><span class="p">.</span><span class="n">data_in</span><span class="p">(</span><span class="n">inches</span><span class="p">)</span><span class="o">++</span><span class="p">;</span>
</code></pre></div>
<p>Since <code>length</code> is not <code>const</code>, the reference returned by <code>.data_in()</code> will be mutable, and we
can treat it like any other <code>int</code> lvalue.  The above would result in <code>inches(61)</code>.</p>
</details>
<h2 id="performing-unit-conversions">Performing unit conversions<a class="headerlink" href="#performing-unit-conversions" title="Permanent link">&para;</a></h2>
<p>We have two methods for performing unit conversions.  They have identical APIs, but their names are
different.  <code>as</code> returns another <code>Quantity</code>, but <code>in</code> exits the library and returns a raw number.</p>
<h3 id="as"><code>.as(unit)</code>, <code>.as&lt;T&gt;(unit)</code><a class="headerlink" href="#as" title="Permanent link">&para;</a></h3>
<p>This function produces a new representation of the input <code>Quantity</code>, converted to the new unit. See
the <a href="../../discussion/idioms/unit-slots/">unit slots</a> discussion for valid choices for <code>unit</code>.</p>
<details class="example">
<summary>Example: converting <code>feet(3)</code> to <code>inches</code></summary>
<p>Consider this <code>Quantity&lt;Feet, int&gt;</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">auto</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">feet</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</code></pre></div>
<p>Then <code>length.as(inches)</code> re-expresses this quantity in units of inches.  Specifically, it
returns a <code>Quantity&lt;Inches, int&gt;</code>, which is equal to <code>inches(36)</code>.</p>
<p>The above example used the quantity maker, <code>inches</code>.  One could also use an instance of the unit
type <code>Inches</code>, writing <code>length.as(Inches{})</code>.  The former is generally preferable; the latter is
mainly useful in generic code where the unit type may be all you have.</p>
</details>
<p><strong>Without</strong> a template argument, <code>.as(unit)</code> obeys the same safety checks as for the <a href="#implicit-from-quantity">implicit
constructors</a>: conversions at high risk for integer overflow or truncation
are forbidden.  Additionally, the <code>Rep</code> of the output is identical to the <code>Rep</code> of the input.</p>
<p><strong>With</strong> a template argument, <code>.as&lt;T&gt;(unit)</code> has two differences.</p>
<ol>
<li>The output <code>Rep</code> will be <code>T</code>.</li>
<li>The conversion is considered &ldquo;forcing&rdquo;, and will be permitted in spite of any overflow or
   truncation risk.  The semantics are similar to <code>static_cast&lt;T&gt;</code>.</li>
</ol>
<details class="example">
<summary>Example: forcing a conversion from inches to feet</summary>
<p><code>inches(24).as(feet)</code> is not allowed.  This conversion will divide the underlying value, <code>24</code>,
by <code>12</code>.  While this particular value would produce an integer result, most other <code>int</code> values
would not.  Because our result uses <code>int</code> for storage &mdash; same as the input &mdash; we forbid this.</p>
<p><code>inches(24).as&lt;int&gt;(feet)</code> <em>is</em> allowed.  The &ldquo;explicit rep&rdquo; template parameter has &ldquo;forcing&rdquo;
semantics.  This would produce <code>feet(2)</code>.</p>
<p>However, note that this operation uses integer division, which truncates: so, for example,
<code>inches(23).as&lt;int&gt;(feet)</code> would produce <code>feet(1)</code>.</p>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Prefer to <strong>omit</strong> the template argument if possible, because you will get more safety checks.
The risks which the no-template-argument version warns about are real.</p>
</div>
<h3 id="inunit-intunit"><code>.in(unit)</code>, <code>.in&lt;T&gt;(unit)</code><a class="headerlink" href="#inunit-intunit" title="Permanent link">&para;</a></h3>
<p>This function produces the value of the <code>Quantity</code>, re-expressed in the new unit.  <code>unit</code> can be
either a <code>QuantityMaker</code> for the quantity&rsquo;s unit, or an instance of the unit itself. See the <a href="../../discussion/idioms/unit-slots/">unit
slots</a> discussion for valid choices for <code>unit</code>.</p>
<details class="example">
<summary>Example: getting the value of <code>feet(3)</code> in <code>inches</code></summary>
<p>Consider this <code>Quantity&lt;Feet, int&gt;</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">auto</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">feet</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
</code></pre></div>
<p>Then <code>length.in(inches)</code> converts this quantity to inches, and returns the value, <code>36</code>, as an
<code>int</code>.</p>
<p>The above example used the quantity maker, <code>inches</code>.  One could also use an instance of the unit
type <code>Inches</code>, writing <code>length.as(Inches{})</code>.  The former is generally preferable; the latter is
mainly useful in generic code where the unit type may be all you have.</p>
</details>
<p><strong>Without</strong> a template argument, <code>.in(unit)</code> obeys the same safety checks as for the <a href="#implicit-from-quantity">implicit
constructors</a>: conversions at high risk for integer overflow or truncation
are forbidden.  Additionally, the <code>Rep</code> of the output is identical to the <code>Rep</code> of the input.</p>
<p><strong>With</strong> a template argument, <code>.in&lt;T&gt;(unit)</code> has two differences.</p>
<ol>
<li>The output type will be <code>T</code>.</li>
<li>The conversion is considered &ldquo;forcing&rdquo;, and will be permitted in spite of any overflow or
   truncation risk.  The semantics are similar to <code>static_cast&lt;T&gt;</code>.</li>
</ol>
<details class="example">
<summary>Example: forcing a conversion from inches to feet</summary>
<p><code>inches(24).in(feet)</code> is not allowed.  This conversion will divide the underlying value, <code>24</code>,
by <code>12</code>.  While this particular value would produce an integer result, most other <code>int</code> values
would not.  Because our result uses <code>int</code> &mdash; same as the input&rsquo;s rep &mdash; we forbid this.</p>
<p><code>inches(24).in&lt;int&gt;(feet)</code> <em>is</em> allowed.  The &ldquo;explicit rep&rdquo; template parameter has &ldquo;forcing&rdquo;
semantics.  This would produce <code>2</code>.</p>
<p>However, note that this operation uses integer division, which truncates: so, for example,
<code>inches(23).in&lt;int&gt;(feet)</code> would produce <code>1</code>.</p>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Prefer to <strong>omit</strong> the template argument if possible, because you will get more safety checks.
The risks which the no-template-argument version warns about are real.</p>
</div>
<h2 id="operations">Operations<a class="headerlink" href="#operations" title="Permanent link">&para;</a></h2>
<p>Au includes as many common operations as possible.  Our goal is to avoid incentivizing users to
leave the safety of the library.</p>
<p>Recall that there are <a href="../../discussion/concepts/arithmetic/">two main categories</a> of operation:
&ldquo;arbitrary unit&rdquo; operations, and &ldquo;common unit&rdquo; operations.</p>
<h3 id="comparison">Comparison<a class="headerlink" href="#comparison" title="Permanent link">&para;</a></h3>
<p>Comparison is a <a href="../../discussion/concepts/arithmetic/#common-unit">common unit operation</a>.  If the
input <code>Quantity</code> types are not identical &mdash; same <code>Unit</code> <em>and</em> <code>Rep</code> &mdash; then we first convert them
to their <a href="#common-type">common type</a>. Then, we perform the comparison by delegating to the
comparison operator on the underlying values.</p>
<p>If either input is a non-<code>Quantity</code> type <code>T</code>, but it has
a <a href="../corresponding_quantity/"><code>CorrespondingQuantity</code></a>, then that input can participate <em>as if it
were</em> its corresponding quantity.</p>
<details class="example">
<summary>Example of corresponding quantity comparison</summary>
<p>We provide built-in <a href="../corresponding_quantity/#chrono-duration">equivalence with <code>std::chrono::duration</code>
types</a>.  Therefore, this comparison will work:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="k">const</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">{</span><span class="mf">1.0</span><span class="p">}</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">milli</span><span class="p">(</span><span class="n">seconds</span><span class="p">)(</span><span class="mf">999.9f</span><span class="p">);</span>
</code></pre></div>
<p>Here, the <code>std::chrono::duration</code> variable will be treated identically to <code>seconds(1.0)</code>. The
comparison will take place in units of <code>milli(seconds)</code> (since that is the common unit), and
using a Rep of <code>double</code> (since that is <code>std::common_type_t&lt;double, float&gt;</code>).  The variable
<code>greater</code> will hold the value <code>true</code>.</p>
</details>
<p>We support the following binary comparison operators:</p>
<ul>
<li><code>==</code></li>
<li><code>!=</code></li>
<li><code>&gt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;</code></li>
<li><code>&lt;=</code></li>
</ul>
<h3 id="addition">Addition<a class="headerlink" href="#addition" title="Permanent link">&para;</a></h3>
<p>Addition is a <a href="../../discussion/concepts/arithmetic/#common-unit">common unit operation</a>.  If the
input <code>Quantity</code> types are not identical &mdash; same <code>Unit</code> <em>and</em> <code>Rep</code> &mdash; then we first convert them
to their <a href="#common-type">common type</a>.  The result is a <code>Quantity</code> of this common type, whose value
is the sum of the input values (after any common type conversions).</p>
<p>If either input is a non-<code>Quantity</code> type <code>T</code>, but it has
a <a href="../corresponding_quantity/"><code>CorrespondingQuantity</code></a>, then that input can participate <em>as if it
were</em> its corresponding quantity.</p>
<h3 id="subtraction">Subtraction<a class="headerlink" href="#subtraction" title="Permanent link">&para;</a></h3>
<p>Subtraction is a <a href="../../discussion/concepts/arithmetic/#common-unit">common unit operation</a>.  If the
input <code>Quantity</code> types are not identical &mdash; same <code>Unit</code> <em>and</em> <code>Rep</code> &mdash; then we first convert them
to their <a href="#common-type">common type</a>.  The result is a <code>Quantity</code> of this common type, whose value
is the difference of the input values (after any common type conversions).</p>
<p>If either input is a non-<code>Quantity</code> type <code>T</code>, but it has
a <a href="../corresponding_quantity/"><code>CorrespondingQuantity</code></a>, then that input can participate <em>as if it
were</em> its corresponding quantity.</p>
<h3 id="multiplication">Multiplication<a class="headerlink" href="#multiplication" title="Permanent link">&para;</a></h3>
<p>Multiplication is an <a href="../../discussion/concepts/arithmetic/#arbitrary-unit">arbitrary unit
operation</a>.  This means you can reason
independently about the units and the values.</p>
<ul>
<li>The output unit is the product of the input units.</li>
<li>The output value is the product of the input values.<ul>
<li>The output rep (storage type) is the same as the type of the product of the input reps.</li>
</ul>
</li>
</ul>
<p>The output is always a <code>Quantity</code> with this unit and rep, <em>unless</em> the units <strong>completely</strong> cancel
out (returning <a href="../unit/#unitless-unit">a unitless unit</a>).  If they do, then <a href="../../discussion/concepts/dimensionless/#exact-cancellation">we return a raw
number</a>.</p>
<p>If either <em>input</em> is a raw number, then it only affects the value, not the unit.  It&rsquo;s equivalent to
a <code>Quantity</code> whose unit is <a href="../unit/#unitless-unit">a unitless unit</a>.</p>
<h3 id="division">Division<a class="headerlink" href="#division" title="Permanent link">&para;</a></h3>
<p>Division is an <a href="../../discussion/concepts/arithmetic/#arbitrary-unit">arbitrary unit operation</a>.
This means you can reason independently about the units and the values.</p>
<ul>
<li>The output unit is the quotient of the input units.</li>
<li>The output value is the quotient of the input values.<ul>
<li>The output rep (storage type) is the same as the type of the quotient of the input reps.</li>
</ul>
</li>
</ul>
<p>The output is always a <code>Quantity</code> with this unit and rep, <em>unless</em> the units <strong>completely</strong> cancel
out (returning <a href="../unit/#unitless-unit">a unitless unit</a>).  If they do, then <a href="../../discussion/concepts/dimensionless/#exact-cancellation">we return a raw
number</a>.</p>
<p>If either <em>input</em> is a raw number, then it only affects the value, not the unit.  It&rsquo;s equivalent to
a <code>Quantity</code> whose unit is <a href="../unit/#unitless-unit">a unitless unit</a>.</p>
<h4 id="integer_quotient"><code>integer_quotient()</code><a class="headerlink" href="#integer_quotient" title="Permanent link">&para;</a></h4>
<p>Experience has shown that raw integer division can be dangerous in a units library context.  It
conflicts with intuitions, and can produce code that is silently and grossly incorrect: see the
<a href="../../troubleshooting/#integer-division-forbidden">integer division section</a> of the troubleshooting
guide for an example.</p>
<p>To use integer division, you must ask for it explicitly by name, with the <code>integer_quotient()</code>
function.</p>
<details class="example">
<summary>Using <code>integer_quotient()</code> to explicitly opt in to integer division</summary>
<p>This will not work:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">miles</span><span class="p">(</span><span class="mi">125</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">hours</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="c1">//        ^--- Forbidden!  Compiler error.</span>
</code></pre></div>
<p>However, this will work just fine:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">integer_quotient</span><span class="p">(</span><span class="n">miles</span><span class="p">(</span><span class="mi">125</span><span class="p">),</span><span class="w"> </span><span class="n">hours</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
</code></pre></div>
<p>It produces <code>(miles / hour)(62)</code>.</p>
</details>
<h3 id="unary-and-">Unary <code>+</code> and <code>-</code><a class="headerlink" href="#unary-and-" title="Permanent link">&para;</a></h3>
<p>For a <code>Quantity</code> instance <code>q</code>, you can apply a &ldquo;unary plus&rdquo; (<code>+q</code>) or &ldquo;unary minus&rdquo; (<code>-q</code>).  These
produce a <code>Quantity</code> of the same type, with the unary plus or minus operator applied to the
underlying value.</p>
<h3 id="shorthand-addition-and-subtraction-">Shorthand addition and subtraction (<code>+=</code>, <code>-=</code>)<a class="headerlink" href="#shorthand-addition-and-subtraction-" title="Permanent link">&para;</a></h3>
<p>The input must be a <code>Quantity</code> which is <a href="#implicit-from-quantity">implicitly convertible</a> to the
target <code>Quantity</code> type.  These operations first perform that conversion, and then replace the target
<code>Quantity</code> with the result of that addition (for <code>+=</code>) or subtraction (for <code>-=</code>).</p>
<h3 id="shorthand-multiplication-and-division">Shorthand multiplication and division (<code>*=</code>, <code>/=</code>)<a class="headerlink" href="#shorthand-multiplication-and-division" title="Permanent link">&para;</a></h3>
<p>The input must be a <em>raw number</em> which is implicitly convertible to the target <code>Quantity</code>&rsquo;s rep.
These operations first perform that conversion, and then replace the target <code>Quantity</code>
with the result of that multiplication (for <code>*=</code>) or division (for <code>/=</code>).</p>
<h3 id="automatic-conversion-to-rep">Automatic conversion to <code>Rep</code><a class="headerlink" href="#automatic-conversion-to-rep" title="Permanent link">&para;</a></h3>
<p>For any <code>Quantity&lt;U, Rep&gt;</code>, if <code>U</code> is a <a href="../unit/#unitless-unit">unitless unit</a>, we provide
implicit conversion to <code>Rep</code>, which simply returns the underlying value.  This enables users to pass
such a <code>Quantity</code> to an API expecting <code>Rep</code>.</p>
<p>We do <em>not</em> provide this functionality for quantities of any other unit.  In particular &mdash; and
unlike many other units libraries &mdash; we do not automatically convert other dimensionless units
(such as <code>Percent</code>) to a raw number.  While this operation is intuitively appealing, experience
shows that it <a href="../../discussion/concepts/dimensionless/#implicit-conversions">does more harm than
good</a>.</p>
<h3 id="mod">Mod (<code>%</code>)<a class="headerlink" href="#mod" title="Permanent link">&para;</a></h3>
<p>The modulo operator, <code>%</code>, is the remainder of an integer division.  Au only defines this operator
between two <code>Quantity</code> types, not between a <code>Quantity</code> and a raw number.</p>
<p>More precisely, suppose we have instances of two <code>Quantity</code> types: <code>Quantity&lt;U1, R1&gt; q1</code> and
<code>Quantity&lt;U2, R2&gt; q2</code>.  Then <code>q1 % q2</code> is defined only when:</p>
<ol>
<li><code>(R1{} % R2{})</code> is defined (that is, both <code>R1</code> and <code>R2</code> are integral types).</li>
<li><code>CommonUnitT&lt;U1, U2&gt;</code> is defined (that is, <code>U1</code> and <code>U2</code> have the same dimension).</li>
</ol>
<p>When these conditions hold, the result is equivalent to first converting <code>q1</code> and <code>q2</code> to their
common unit, and then computing the remainder from performing integer division on their values.</p>
<details class="info">
<summary>Why this policy?</summary>
<p>We restrict to same-dimension quantities because this not only gives a meaningful answer, but
the meaning of that answer is independent of the choice of units.  Take length as an example: we
could imagine repeatedly subtracting <code>q2</code> from <code>q1</code> until we get a result that is smaller than
<code>q2</code>.  This final result is the answer we seek.  It does not depend on the units for either
quantity.</p>
<p>The reason we express that answer in the common unit of <code>q1</code> and <code>q2</code> is because it&rsquo;s the
simplest unit in which we <em>can</em> express it.  (Note that this is the same unit we would get from
the operation of repeated <a href="#subtraction">subtraction</a> as well, so this choice is consistent.)</p>
</details>
<h2 id="rep_cast"><code>rep_cast</code><a class="headerlink" href="#rep_cast" title="Permanent link">&para;</a></h2>
<p><code>rep_cast</code> performs a <code>static_cast</code> on the underlying value of a <code>Quantity</code>.  It is used to change
the rep.</p>
<p>Given any <code>Quantity&lt;U, R&gt; q</code> whose rep is <code>R</code>, then <code>rep_cast&lt;T&gt;(q)</code> gives a <code>Quantity&lt;U, T&gt;</code>, whose
underlying value is <code>static_cast&lt;T&gt;(q.in(U{}))</code>.</p>
<h2 id="templates-and-traits">Templates and Traits<a class="headerlink" href="#templates-and-traits" title="Permanent link">&para;</a></h2>
<h3 id="matching-typename-u-typename-r">Matching: <code>typename U, typename R</code><a class="headerlink" href="#matching-typename-u-typename-r" title="Permanent link">&para;</a></h3>
<p>To specialize a template to match any <code>Quantity</code>, declare two template parameters: one for the unit,
one for the rep.</p>
<details class="example">
<summary>Example: function template</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">negate</span><span class="p">(</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="p">;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="p">}</span>
</code></pre></div>
<p>This function template will match any <code>Quantity</code> specialization, and nothing else.</p>
</details>
<details class="example">
<summary>Example: type template</summary>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// First, we need to declare the generic type template.  It matches a single type, `T`.</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Size</span><span class="p">;</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="c1">// Now we can declare a specialization that matches any `Quantity`, by templating on its unit</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="c1">// and rep.</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">U</span><span class="p">,</span><span class="w"> </span><span class="k">typename</span><span class="w"> </span><span class="nc">R</span><span class="o">&gt;</span>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="k">struct</span><span class="w"> </span><span class="nc">Size</span><span class="o">&lt;</span><span class="n">Quantity</span><span class="o">&lt;</span><span class="n">U</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="c1">// Note: this example uses inline variables, a C++17 feature.  It&#39;s just for illustration.</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">constexpr</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kt">size_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">R</span><span class="p">);</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="p">};</span>
</code></pre></div>
<p>In this way, <code>Size&lt;T&gt;::value</code> will exist only when <code>T</code> is some <code>Quantity</code> type (unless, of
course, other specializations get defined elsewhere).</p>
</details>
<h3 id="rep"><code>::Rep</code><a class="headerlink" href="#rep" title="Permanent link">&para;</a></h3>
<p>Every <code>Quantity</code> type has a public static alias, <code>::Rep</code>, which indicates its underlying storage
type (or, its &ldquo;rep&rdquo;).</p>
<details class="example">
<summary>Example</summary>
<p><code>decltype(meters(5))::Rep</code> is <code>int</code>.</p>
</details>
<h3 id="unit"><code>::Unit</code><a class="headerlink" href="#unit" title="Permanent link">&para;</a></h3>
<p>Every <code>Quantity</code> type has a public static alias, <code>::Unit</code>, which indicates its unit type.</p>
<details class="example">
<summary>Example</summary>
<p><code>decltype(meters(5))::Unit</code> is <code>Meters</code>.</p>
</details>
<h3 id="unit_1"><code>::unit</code><a class="headerlink" href="#unit_1" title="Permanent link">&para;</a></h3>
<p>Every <code>Quantity</code> type has a public static member variable, <code>::unit</code>, which is an instance of its
unit type.</p>
<details class="example">
<summary>Example</summary>
<p><code>decltype(meters(5))::unit</code> is <code>Meters{}</code>.</p>
</details>
<h3 id="common-type"><code>std::common_type</code> specialization<a class="headerlink" href="#common-type" title="Permanent link">&para;</a></h3>
<p>For two <code>Quantity</code> types, one with unit <code>U1</code> and rep <code>R1</code>, and the other with unit <code>U2</code> and rep
<code>R2</code>, then <code>std::common_type_t&lt;Quantity&lt;U1, R1&gt;, Quantity&lt;U2, R2&gt;&gt;</code> has the following properties.</p>
<ol>
<li>
<p>It exists if and only if <code>U1</code> and <code>U2</code> have the same dimension.</p>
</li>
<li>
<p>When it exists, it is <code>Quantity&lt;U, R&gt;</code>, where <code>U</code> is the <a href="../../discussion/concepts/common_unit/">common
   unit</a> of <code>U1</code> and <code>U2</code>, and <code>R</code> is <code>std::common_type_t&lt;R1,
   R2&gt;</code>.</p>
</li>
</ol>
<p>As <a href="https://en.cppreference.com/w/cpp/types/common_type">required by the standard</a>, our
<code>std::common_type</code> specializations are
<a href="https://en.cppreference.com/w/cpp/language/sfinae">SFINAE</a>-friendly: improper combinations will
simply not be present, rather than producing a hard error.</p>
<h3 id="arequantitytypesequivalent">AreQuantityTypesEquivalent<a class="headerlink" href="#arequantitytypesequivalent" title="Permanent link">&para;</a></h3>
<p><strong>Result:</strong> Indicates whether two <code>Quantity</code> types are equivalent.  Equivalent types may be freely
converted to each other, and no arithmetic operations will be performed in doing so.</p>
<p>More precisely, <code>Quantity&lt;U1, R1&gt;</code> and <code>Quantity&lt;U2, R2&gt;</code> are equivalent if and only if <strong>both</strong> of
the following conditions hold.</p>
<ol>
<li>
<p>The units <code>U1</code> and <code>U2</code> are <a href="../unit/#quantity-equivalent">quantity-equivalent</a>.</p>
</li>
<li>
<p>The reps <code>R1</code> and <code>R2</code> are the same type.</p>
</li>
</ol>
<p><strong>Syntax:</strong></p>
<ul>
<li>For <em>types</em> <code>U1</code> and <code>U2</code>:<ul>
<li><code>AreQuantityTypesEquivalent&lt;U1, U2&gt;::value</code></li>
</ul>
</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../prefix/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Prefix" rel="prev">
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Prefix
              </div>
            </div>
          </a>
        
        
          
          <a href="../quantity_point/" class="md-footer__link md-footer__link--next" aria-label="Next: QuantityPoint" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                QuantityPoint
              </div>
            </div>
            <div class="md-footer__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022, Aurora Operations, Inc. All rights reserved
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "toc.integrate"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
      
    
  </body>
</html>